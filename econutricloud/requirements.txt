+------------------+
|  User opens page |
| (Product page)   |
+------------------+
          |
          v
+------------------------------+
| Django View: productview()   |
| - Fetch product details      |
| - Fetch all reviews          |
| - Calculate avg_rating       |
+------------------------------+
          |
          v
+-------------------------------+
| Template renders product info |
| - Product image, price, etc. |
| - Average rating stars        |
| - Reviews list               |
+-------------------------------+
          |
          v
+------------------------+
| User submits a review  |
| (rating + comment)     |
+------------------------+
          |
          v
+-----------------------------+
| Django View receives POST   |
| - form = ReviewForm(request.POST) |
| - form.is_valid()           |
| - review.product = product  |
| - review.user = request.user|
| - review.save()             |
+-----------------------------+
          |
          v
+--------------------------+
| Review stored in DB      |
| Table: Review            |
| Columns: product, user,  |
| rating, comment, created_at |
+--------------------------+
          |
          v
+-----------------------------+
| Page reload or AJAX refresh |
| - Fetch updated reviews     |
| - Recalculate avg_rating    |
| - Display updated stars     |
+-----------------------------+
