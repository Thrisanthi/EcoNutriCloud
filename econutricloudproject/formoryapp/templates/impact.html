{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Impact - Formory Kitchen & Nutri</title>
<style>
body {font-family: Inter, sans-serif;margin: 0;padding: 0;background: #fefefe;color: #111;}
header.navbar {display: flex;align-items: center;justify-content: space-between;padding: 12px 24px;background: linear-gradient(90deg, #4b79a1, #283e51);box-shadow: 0 4px 12px rgba(0,0,0,0.15);border-radius: 0 0 12px 12px;position: relative;}
/* Logo with image + text */
.logo {display: flex;align-items: center;gap: 12px;font-weight: bold;font-size: 20px;color: #fff;}
.logo img {height: 50px;width: auto;border-radius: 12px;object-fit: contain;}
/* Centered search bar */
.search-bar {flex: 1;display: flex;justify-content: center;margin: 0 24px;}
.search-bar input {padding: 8px 16px;border-radius: 8px 0 0 8px;border: none;outline: none;width: 300px;max-width: 100%;}
.search-bar button {padding: 8px 16px;border-radius: 0 8px 8px 0;border: none;background: #ff7a59;color: #fff;cursor: pointer;font-weight: bold;}
/* Nav links on right */
.nav-links {display: flex;gap: 16px;}
.nav-links a {color: #fff;font-weight: 500;padding: 6px 12px;border-radius: 8px;text-decoration: none;transition: 0.2s;}
.nav-links a:hover {background: rgba(255, 255, 255, 0.2);}

#our-impact {max-width: 1200px;margin: 40px auto;padding: 0 16px;}
#our-impact h2 {font-size: 28px;text-align: left;margin-bottom: 16px;color: #08202a;}
.our-impact {font-size: 16px;text-align: justify;margin-bottom: 32px;color: #555;}

.impact-cards {display: grid;grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));gap: 24px;margin-bottom: 40px;}
.impact-card {background: #fff8e1;padding: 24px 16px;border-radius: 16px;text-align: center;box-shadow: 0 6px 20px rgba(0,0,0,0.1);transition: transform 0.2s, background 0.2s;font-size: 50px;}
.impact-card:hover {transform: translateY(-5px);background: #fff3c4;}
.impact-icon {font-size: 36px;margin-bottom: 16px;}
.impact-card h3 {font-size: 24px;margin-bottom: 8px;color: #ff7a59;}
.impact-card p {font-size: 16px;color: #555;text-align: center;}

.impact-stories {display: grid;grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));gap: 24px;margin-bottom: 40px;}
.story-card {background: #f0f7f2;border-radius: 16px;overflow: hidden;box-shadow: 0 4px 16px rgba(0,0,0,0.1);transition: transform 0.2s;cursor:pointer;}
.story-card:hover {transform: translateY(-5px);}
.story-card img {width: 100%;display: block;height: 180px;object-fit: cover;}
.story-content {padding: 16px;}
.story-content h4 {margin-bottom: 8px;color: #ff7a59;}
.story-content p {color: #555;font-size: 15px;}

#story-modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000;}
#story-modal .modal-content {background:#fff; padding:24px; border-radius:16px; max-width:600px; width:90%; position:relative;}
#close-modal {position:absolute; top:12px; right:16px; font-size:24px; cursor:pointer;}
#modal-img {width:100%; border-radius:12px; margin-bottom:16px;}
#modal-title {color:#ff7a59; margin-bottom:12px;}
#modal-content {color:#555;}

@media (max-width: 600px) {
  #our-impact h2 {font-size: 22px;}
  .our-impact {font-size: 14px;}
  .impact-card h3 {font-size: 20px;}
  .impact-card p {font-size: 14px;}
  .story-content h4 {font-size: 18px;}
  .story-content p {font-size: 14px;}
  header.navbar {flex-wrap: wrap;justify-content: center;gap: 12px;}
  .logo, .search-bar, .nav-links {order: initial;}
  .search-bar {width: 100%; justify-content: center;}
}
/* Footer */
  footer {
    margin-top:20px;
    background:linear-gradient(180deg,#fff,#f3f7f6);
    padding:26px 18px;
    border-top:1px solid rgba(15,23,42,0.04);
  }
  .footer-grid {
    max-width:1200px;
    margin:0 auto;
    display:grid;
    grid-template-columns: 1fr 1fr 1fr; /* 3 equal columns */
    gap:40px;
    align-items:start;
    padding:8px;
  }
  .footer-grid h4{margin:0 0 6px}
  .footer-links a{display:block; color:var(--muted); text-decoration:none; margin-bottom:6px}
  .payments{display:flex; gap:8px; align-items:center; flex-wrap:wrap;}
  .payments img{height:30px; object-fit:contain}
  .copyright{max-width:1200px; margin:12px auto; text-align:center; color:var(--muted); font-size:13px}
    /* Responsive */
    @media(max-width:1100px){ .hero{grid-template-columns:1fr 1fr} }
    @media(max-width:820px){
      .hero{grid-template-columns:1fr; gap:12px}
      .brands-row{grid-template-columns:1fr; padding:0 16px}
      .footer-grid{grid-template-columns:1fr; text-align:center}
    }
    /* small helpers */
    .rating {display:flex; gap:6px; align-items:center; justify-content:center}
    .dot{width:6px;height:6px;border-radius:50%;background:rgba(15,23,42,0.06)}
</style>
</head>
<body>

<header class="navbar">
  <div class="logo"><a href="{% url 'mainhome' %}"><img src="{% static '/images/econutricloud.png' %}"></a>EcoNutriCloud</div>
  <div class="search-bar">
    <input type="text" placeholder="Search impact metrics...">
    <button>Search</button>
  </div>
  <nav class="nav-links">
    <a href="{% url 'mainhomepageaboutus' %}"><b>ABOUT</b></a>
    <a href="{% url 'impactpage' %}"><b>OUR IMPACT</b></a>
  </nav>
</header>

<div id="our-impact">
  <h2 class="impact-header">Our Impact</h2>
  <p class="our-impact">At Formory Kitchen & Nutri, we are committed to making a difference in nutrition, health, and the community. Each meal, diet plan, and initiative is designed to bring wellness and support sustainable practices for everyone.</p>
  
  <div class="impact-cards">
    <div class="impact-card">üçΩÔ∏è<h3>10k+</h3><p><b>Meals Served</b></p></div>
    <div class="impact-card">ü•ó<h3>500+</h3><p><b>Diets Planned</b></p></div>
    <div class="impact-card">üå±<h3>100%</h3><p><b>Organic Ingredients</b></p></div>
    <div class="impact-card">üíö<h3>1k+</h3><p><b>Happy Clients</b></p></div>
  </div>

  <h2 class="story-header">Impact Stories</h2>
  <div class="impact-stories">
    <div class="story-card" data-title="Community Feeding" data-img="{% static 'images/event.jpg' %}" data-content="We organized meal drives in underserved neighborhoods, bringing healthy food to those in need. Our volunteers worked tirelessly to distribute meals and educate the community about nutrition. Over 500 families were served in the past year, and we partnered with local shelters and community centers to maximize our impact. Each event also included mini cooking classes and nutrition tips to help families prepare balanced meals at home.">
      <img src="{% static 'images/event.jpg' %}" alt="Community Event">
      <div class="story-content">
        <h4>Community Feeding</h4>
        <p>Delivering nutritious meals and nutrition education to underserved communities.</p>
      </div>
    </div>
    <div class="story-card" data-title="Nutrition Workshops" data-img="{% static 'images/nutrition-.jpg' %}" data-content="Our team conducted workshops teaching families how to cook balanced and wholesome meals at home. Participants learned about meal planning, portion control, and healthy substitutions for everyday ingredients. Over 300 individuals attended, leaving with practical skills and recipe booklets. These workshops fostered long-term healthy eating habits and encouraged community engagement.">
      <img src="{% static 'images/nutrition-.jpg' %}" alt="Nutrition Workshop">
      <div class="story-content">
        <h4>Nutrition Workshops</h4>
        <p>Hands-on workshops helping families cook healthy and balanced meals at home.</p>
      </div>
    </div>
    <div class="story-card" data-title="Support Organic Farming" data-img="{% static 'images/organic-culture.jpg' %}" data-content="We partnered with local farms to promote organic ingredients and sustainable food production. This initiative educated the public about organic benefits, supported farmers financially, and ensured that our meals are made from responsibly sourced, chemical-free ingredients. Over 20 farms benefited, helping strengthen the local economy and promoting eco-friendly practices.">
      <img src="{% static 'images/organic-culture.jpg' %}" alt="Organic Farming">
      <div class="story-content">
        <h4>Support Organic Farming</h4>
        <p>Promoting sustainable farming and sourcing 100% organic ingredients responsibly.</p>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div id="story-modal">
  <div class="modal-content">
    <span id="close-modal">&times;</span>
    <img id="modal-img" src="" alt="">
    <h3 id="modal-title"></h3>
    <p id="modal-content"></p>
  </div>
</div>
<!-- FOOTER -->
<footer>
  <div class="footer-grid" role="contentinfo" aria-label="Footer">

    <!-- Column 1 -->
    <div>
      <div style="display:flex; gap:10px; align-items:center;">
        <div class="brand-mark">
          <img src="{% static 'images/econutricloud.png' %}" alt="Formory Kitchen Logo"
               style="width:40px; height:40px; object-fit:cover; border-radius:6px;">
        </div>
        <div>
          <div style="font-weight:800; font-size:16px;">EcoNutriCloud</div>
          <div style="font-size:13px; color:var(--muted)">Fresh food & kitchen services</div>
        </div>
      </div>
      <p style="color:var(--muted); margin-top:10px">
        Delivering wholesome goodness ‚Äî Nutric, MAMA's Kitchen & EcoNutriCloud under one roof.
      </p>
    </div>

    <!-- Column 2 (Contact Details) -->
    <div>
      <h4>Contact Details</h4>
      <div class="contacts-info" style="margin-top:10px; display:flex; flex-direction:column; gap:8px;">
        <div style="display:flex; align-items:center; gap:8px;">
          <img src="{% static 'images/phone.png' %}" alt="Phone" style="height:20px; width:20px; object-fit:contain;">
          <span style="color:var(--muted)">+91 9999999999</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
          <img src="{% static 'images/email.png' %}" alt="Email" style="height:20px; width:20px; object-fit:contain;">
          <span style="color:var(--muted)">econutricloud@gmail.com</span>
        </div>
      </div>
    </div>

    <!-- Column 3 (We Accept) -->
    <div>
      <h4>We accept</h4>
      <div class="payments" style="margin-top:10px;">
        <img src="{% static 'images/visa.png' %}" alt="Visa">
        <img src="{% static 'images/mastercard.png' %}" alt="Mastercard">
        <img src="{% static 'images/amex.jpg' %}" alt="Amex">
        <img src="{% static 'images/upi.png' %}" alt="UPI">
      </div>

      <div style="margin-top:12px;">
        <a class="footer-link" href="{% url 'privacypolicy' %}" style="color:var(--muted)">Privacy policy</a><br>
        <a class="footer-link" href="{% url 'mainhomepageaboutus' %}" style="color:var(--muted)">About us</a>
      </div>
    </div>

  </div>

  <!-- Bottom copyright -->
  <div class="copyright">
    ¬© {{ now|date:"Y" }} EcoNutriCloud. All rights reserved. ¬∑ ISO: <em>ISO-9001</em> (placeholder)
  </div>
</footer>
<script>
// Modal functionality
const storyCardsList = document.querySelectorAll('.story-card');
const modal = document.getElementById('story-modal');
const modalImg = document.getElementById('modal-img');
const modalTitle = document.getElementById('modal-title');
const modalContent = document.getElementById('modal-content');
const closeModal = document.getElementById('close-modal');

storyCardsList.forEach(card => {
  card.addEventListener('click', () => {
    modal.style.display = 'flex';
    modalImg.src = card.querySelector('img').src;
    modalTitle.textContent = card.dataset.title;
    modalContent.textContent = card.dataset.content;
  });
});

closeModal.addEventListener('click', () => modal.style.display = 'none');
modal.addEventListener('click', e => { if(e.target === modal) modal.style.display = 'none'; });

// Search functionality - only matching items, hide headers if empty
const searchInput = document.querySelector('.search-bar input');
const impactCards = document.querySelectorAll('.impact-card');
const storyCards = document.querySelectorAll('.story-card');
const impactHeader = document.querySelector('.impact-header');
const storyHeader = document.querySelector('.story-header');

searchInput.addEventListener('input', () => {
  const query = searchInput.value.toLowerCase().trim();

  // Filter impact cards
  let anyImpactVisible = false;
  impactCards.forEach(card => {
    if(card.textContent.toLowerCase().includes(query)){
      card.style.display = 'block';
      anyImpactVisible = true;
    } else card.style.display = 'none';
  });
  impactHeader.style.display = anyImpactVisible ? 'block' : 'none';
  document.querySelector('.impact-cards').style.display = anyImpactVisible ? 'grid' : 'none';

  // Filter story cards
  let anyStoryVisible = false;
  storyCards.forEach(card => {
    const text = (card.dataset.title + " " + card.dataset.content).toLowerCase();
    if(text.includes(query)){
      card.style.display = 'block';
      anyStoryVisible = true;
    } else card.style.display = 'none';
  });
  storyHeader.style.display = anyStoryVisible ? 'block' : 'none';
  document.querySelector('.impact-stories').style.display = anyStoryVisible ? 'grid' : 'none';
});
</script>

</body>
</html>

